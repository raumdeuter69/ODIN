<!DOCTYPE html>
<html>
<head>
	<title>Rock Paper Scissor</title>
</head>
<body>
<script type="text/javascript">
	function computerPlay(){
		let computerSelection='';
		let randomInt=Math.floor(Math.random()*3);
		if(randomInt===0)
		{
			computerSelection='Rock';
		}
		else if(randomInt===1)
		{
			computerSelection='Paper';
		}
		else{
			computerSelection='Scissors';
		}
		return computerSelection;
	}
	function playerSelection(){
		let playerInput=prompt("Rock,Paper or Scissors:")
		let trimmedInput=playerInput.trim();
		let lowerCaseInput=trimmedInput.toLowerCase();
		let capitalizedInput=lowerCaseInput.charAt(0).toUpperCase()+lowerCaseInput.slice(1);
		while(!['Rock','Paper','Scissors'].includes(capitalizedInput)){
			trimmedInput=playerInput.trim();
			lowerCaseInput=trimmedInput.toLowerCase();
			capitalizedInput=lowerCaseInput.charAt(0).toUpperCase()+lowerCaseInput.slice(1);
		}
		return capitalizedInput;
	}
	function playRound(playerSelection,computerSelection)
	{
		let roundWinner='';
		if(playerSelection===computerSelection){

			roundWinner = "It's a tie!";
         } else if (playerSelection == 'Rock' && computerSelection == 'Scissors'){
           roundWinner = "You win! Rock beats scissors!";
         } else if (playerSelection == 'Rock' && computerSelection == 'Paper'){
          roundWinner = "You lose! Paper beats rock!";
         } else if (playerSelection == 'Paper' && computerSelection == 'Rock'){
          roundWinner = "You win! Paper beats rock!";
         } else if (playerSelection == 'Paper' && computerSelection == 'Scissors'){
          roundWinner = "You lose! Scissors beats paper!";
         } else if (playerSelection == 'Scissors' && computerSelection == 'Paper'){
          roundWinner = "You win! Scissors beats paper!";
         } else if (playerSelection == 'Scissors' && computerSelection == 'Rock') {
          roundWinner = "You lose! Rock beats scissors!";
         }
         return roundWinner;
	}
function game()
{
	  let roundResult ='';
        let playerPoints = 0;
        let computerPoints = 0;
        let playerTurn = '';
        let computerTurn = '';
        for(i=0;i<=4;i++){
        	computerTurn=computerPlay();
        	playerTurn=playerSelection();
        	roundResult=playRound(playerTurn,computerTurn);
        	if(roundResult.includes('You win')){
        		playerPoints+=1;

        	}else if (roundResult.includes('You lose')){
            computerPoints += 1;
            console.log(roundResult + " The score is: " + playerPoints + " to " + computerPoints);
          } else {
            i -= 1;
            console.log(roundResult + " The score is: " + playerPoints + " to " + computerPoints);
          }
        }

        if (playerPoints > computerPoints) {
          console.log("You won the game! " + playerPoints + " to " + computerPoints + "!");
        } else {
            console.log("You lost the game! " + computerPoints + " to " + playerPoints + "!");
          }
        

      }

        game();


</script>
</body>
</html>